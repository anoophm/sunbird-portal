<div>
  <div class="ui grid">
    <div class="one wide column"></div>
    <div class="ten wide column">
      <div class="ui grid">
        <div class="nine wide column">
          <div class="ui">
            <div class="text dashBoardSectionHeading padding-top-10"><i class="announcement icon padding-right-10"></i> {{resourceService?.frmelmnts?.lbl?.anncmntmine}}</div>
          </div>
        </div>
        <div class="right floated three wide column padding-right-dropdown padding-right-10">
          <div class="ui float-ContentRight">
            <button class="ui primary basic button announcementButton"><span class="announcementButtonText">{{resourceService?.frmelmnts?.lbl?.anncmntcreate}}</span></button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="ui grid" *ngIf="showDataDiv">
    <div class="one wide column"></div>
    <div class="ten wide column">
      <div class="ui grid">
        <div class="eight wide column">
          <div class="ui">
            <div class="text padding-top-5 showingAllSentAnn">{{resourceService?.frmelmnts?.lbl?.anncmntsent}}</div>
          </div>
        </div>
        <div class="four wide column">
          <div class="ui float-ContentRight">
            <div class="text showingAllSentAnn"><span class="margin-right-10">Viewing {{pager.startIndex+1}} - {{pager.endIndex+1}} of  {{totalCount}} </span>
              <div class="ui small basic icon buttons">
                <button class="ui button" [ngClass]="{'disabled' : pager.startIndex === 0}" (click)="setPage(pager.currentPage - 1)"><i class="left chevron icon"></i></button>
                <button class="ui button" [ngClass]="{'disabled' : pager.currentPage === pager.totalPages}" (click)="setPage(pager.currentPage + 1)"><i class="right chevron icon"></i></button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="ui grid" *ngIf="showLoader">
    <div class="one wide column"></div>
    <div class="ten wide column">
      <app-loader></app-loader>
    </div>
  </div>
  <div class="ui grid" *ngIf="!showDataDiv && !showLoader">
    <div class="one wide column"></div>
    <div class="ten wide column">
      <div class="ui warning message">
        <div class="header">{{resourceService?.frmelmnts?.lbl?.anncmntnotfound}}</div>
        {{resourceService?.frmelmnts?.lbl?.anncmntplzcreate}}
      </div>
    </div>
  </div>
  <div class="margin-top-10" *ngIf="showDataDiv">
    <div class="resource-padding ui grid">
      <div class="one wide column"></div>
      <div class="ten wide column">
        <div class="ui tweleve wide column">
          <table class="ui padded table">
            <thead>
              <tr class="announcementTableHeading">
                <th>{{resourceService?.frmelmnts?.lbl?.anncmnttblname}}</th>
                <th>{{resourceService?.frmelmnts?.lbl?.anncmnttblpublished}}</th>
                <th>{{resourceService?.frmelmnts?.lbl?.anncmnttblsent}}</th>
                <th>{{resourceService?.frmelmnts?.lbl?.anncmnttblreceived}}</th>
                <th>{{resourceService?.frmelmnts?.lbl?.anncmnttblseen}}</th>
                <th>{{resourceService?.frmelmnts?.lbl?.anncmnttblactions}}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of outboxData" class="tableListNameAnn">
                <td (click)="showAnnouncementDetails(item.id, item)" class="cursor-pointer">{{item.title}}<span ng-show="item.title.length > 50">...</span></td>
                <td>{{item.createdDate}}</td>
                <td>{{item.metrics.sent ? item.metrics.sent : "N/A"}}</td>
                <td>{{item.metrics.received ? item.metrics.received : "N/A"}}</td>
                <td>{{item.metrics.read ? item.metrics.read : "N/A"}}</td>
                <td class="cursor-pointer announcementRedText" (click)="announcementId = item.id; showDeleteModal = true" *ngIf="item.status === 'active'"><i class="icon trash"></i>{{resourceService?.frmelmnts?.lbl?.anncmntoutboxdelete}}</td>
                <td (click)="getResend(item.id, item.title);" *ngIf="item.status == 'cancelled'" class="cursor-pointer announcementBlueText"><i class="external share icon"></i>{{resourceService?.frmelmnts?.lbl?.anncmntoutboxresend}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div class="ui grid" *ngIf="showDataDiv">
    <div class="one wide column"></div>
    <div class="ui grid">
      <div class="twelve wide column">
        <div class="ui">
          <div class="text announcementDataText" *ngIf="result.metricsupdateddate"> <span class="announcementBlueText">*</span>{{resourceService?.frmelmnts?.lbl?.anncmntlastupdate}} {{result.metrics.updatedate}}</div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Announcement delete confirmation modal -->
<div *ngIf="showDeleteModal">
  <sui-modal [isClosable]="true" (dismissed)="showDeleteModal = false" #modal>

    <div class="content">
      <div class="ui center aligned segment">
        <div class="ui basic icon circular button deny">
          <i class="ui huge help outline icon"></i>
        </div>
        <br/><br/>
        <div class="header cardsHeading">{{resourceService?.frmelmnts?.lbl?.anncmntcancelconfirm}}</div>
        <br/>
        <div class="announcement-description">
          {{resourceService?.frmelmnts?.lbl?.anncmntcancelconfirmdescrption}}
        </div>
        <br/><br/>
        <button class="ui basic button announcementButton btn-width-26 announcementButtonText" (click)="modal.approve('done'); deleteAnnouncement();"> {{resourceService?.frmelmnts?.btn?.yes}} </button>
        <button class="ui button primary announcementButton btn-width-26 close" (click)="modal.deny()"> {{resourceService?.frmelmnts?.btn?.no}} </button>
      </div>
    </div>
  </sui-modal>
</div>